(function(a){if(!!a.JCNewsSlider){return}a.JCNewsSlider=function(c,e){if(c&&e){var b=BX(c);if(b){var i=BX.findChildByClassName(b,e.imagesContainerClassName,true);var h=BX.findChildByClassName(b,e.leftArrowClassName,true);var f=BX.findChildByClassName(b,e.rightArrowClassName,true);var d=BX.findChildByClassName(b,e.controlContainerClassName,true);if(i&&h&&f&&d){var g=new JCNewsSlider;g.Init(i,d,h,f)}}}};a.JCNewsSlider.prototype.Init=function(g,c,f,e){this.time=0.5;this.type="accelerated";this.threshold=50;this.allowedTime=500;this.startX=0;this.startY=0;this.startTime=0;this.sliderImages=g;BX.bind(g,"touchstart",BX.delegate(this.touchStart,this));BX.bind(g,"touchend",BX.delegate(this.touchEnd,this));this.sliderControls=BX.findChildren(c,{tagName:"LI"},true);var d=function(h,i){return function(){return i(h)}};for(var b=0;b<this.sliderControls.length;b++){BX.bind(this.sliderControls[b],"click",d(b,BX.delegate(this.slideTo,this)))}this.sliderLeft=f;BX.bind(f,"click",BX.delegate(this.slideLeft,this));this.sliderRight=e;BX.bind(e,"click",BX.delegate(this.slideRight,this))};a.JCNewsSlider.prototype.slideRight=function(){if(this.animation){return}this.animation=true;var b=parseInt(this.sliderImages.style.left,10);if(b<=-100*(this.sliderControls.length-1)){this.animation=false;return}var c=this;(new BX.fx({start:b,finish:b-100,time:this.time,type:this.type,callback:function(d){c.sliderImages.style.left=d+"%"},callback_start:function(){c.sliderImages.style.left=b+"%"},callback_complete:function(){c.sliderImages.style.left=(b-100)+"%";c.adjustSliderControls(-(b-100)/100);c.animation=false}})).start()};a.JCNewsSlider.prototype.slideLeft=function(){if(this.animation){return}this.animation=true;var b=parseInt(this.sliderImages.style.left,10);if(b>=0){this.animation=false;return}var c=this;(new BX.fx({start:b,finish:b+100,time:this.time,type:this.type,callback:function(d){c.sliderImages.style.left=d+"%"},callback_start:function(){c.sliderImages.style.left=b+"%"},callback_complete:function(){c.sliderImages.style.left=(b+100)+"%";c.adjustSliderControls(-(b+100)/100);c.animation=false}})).start()};a.JCNewsSlider.prototype.slideTo=function(b){if(this.animation){return}this.animation=true;var c=parseInt(this.sliderImages.style.left,10);if(c==(-b*100)){this.animation=false;return}var d=this;(new BX.fx({start:c,finish:-b*100,time:this.time,type:this.type,callback:function(e){d.sliderImages.style.left=e+"%"},callback_start:function(){d.sliderImages.style.left=c+"%";d.adjustSliderControls(b)},callback_complete:function(){d.sliderImages.style.left=(-b*100)+"%";d.animation=false}})).start()};a.JCNewsSlider.prototype.adjustSliderControls=function(c){for(var b=0;b<this.sliderControls.length;b++){if(c==b){BX.addClass(this.sliderControls[b],"current")}else{BX.removeClass(this.sliderControls[b],"current")}}};a.JCNewsSlider.prototype.touchStart=function(c){var b=c.changedTouches[0];this.startX=b.pageX;this.startY=b.pageY;this.startTime=new Date().getTime();c.preventDefault()};a.JCNewsSlider.prototype.touchEnd=function(d){var c=d.changedTouches[0];var f=c.pageX-this.startX;var b=new Date().getTime()-this.startTime;if(b<=this.allowedTime){if(f>this.threshold){this.slideLeft()}else{if(f<-this.threshold){this.slideRight()}}}d.preventDefault()}})(window);